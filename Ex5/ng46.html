
<head>
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://unpkg.com/sunburst-chart"></script>

  <style>body { margin: 0 }</style>

</head>
<body>
  <div id="chart"></div>

  <script>
    const data = 
{ name: "all", calls: 1, size: 0, value: 7885, min: 7885, max: 7885, avg: 7885, children: [{ name: "ngcore::ParallelFor<int,ngcore::EnterTaskManager()::{lambda(int)#1}>(ngcore::T_Range<int>,ngcore::EnterTaskManager()::{lambda(int)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.001969, value: 0.001969, min: 0.001969, max: 0.001969, avg: 0.001969} , { name: "GridFunction::Interpolate", calls: 12, size: 1.713, value: 297.6, min: 1.474, max: 98.02, avg: 24.8, children: [{ name: "ngcomp::IterateElements(ngcomp::FESpace const&,ngfem::VorB,ngcore::LocalHeap&,std::function<void(ngcomp::FESpace::Element,ngcore::LocalHeap&)>const&)::{lambda(ngcore::TaskInfo const&)#1}", calls: 12, size: 293.1, value: 293.1, min: 1.328, max: 97.15, avg: 24.42} , { name: "ngcore::ParallelForRange<unsigned long,ngcomp::GridFunction::Interpolate(ngfem::CoefficientFunction const&,ngcomp::Region const*,int,ngcore::LocalHeap&)::{lambda(ngcore::T_Range<unsigned long>)#2}>(ngcore::T_Range<unsigned long>,ngcomp::GridFunction::Interpolate(ngfem::CoefficientFunction const&,ngcomp::Region const*,int,ngcore::LocalHeap&)::{lambda(ngcore::T_Range<unsigned long>)#2},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 12, size: 1.898, value: 1.898, min: 0.07633, max: 0.2796, avg: 0.1581} , { name: "Projector::Project", calls: 8, size: 0.003196, value: 0.09743, min: 0.006428, max: 0.01782, avg: 0.01218, children: [{ name: "ngcore::ParallelForRange<unsigned long,ngla::Projector::Project(ngla::BaseVector&)const::{lambda(ngcore::BitArray&,auto:1)#1}::operator()<ngbla::FlatVector<double>>(ngcore::BitArray&,ngbla::FlatVector<double>)const::{lambda(ngcore::T_Range<unsigned long>)#1}>(ngbla::FlatVector<double><unsigned long>,ngla::Projector::Project(ngla::BaseVector&)const::{lambda(ngcore::BitArray&,auto:1)#1}::operator()<ngbla::FlatVector<double>>(ngcore::BitArray&,ngbla::FlatVector<double>)const::{lambda(ngcore::T_Range<unsigned long>)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 8, size: 0.09424, value: 0.09424, min: 0.006255, max: 0.0172, avg: 0.01178}]} , { name: "BaseVector::Set", calls: 20, size: 0.01699, value: 0.7228, min: 0.004877, max: 0.1323, avg: 0.03614, children: [{ name: "ngcore::ParallelFor<unsigned long,ngla::BaseVector::Set(double,ngla::BaseVector const&)::{lambda(unsigned long)#1}>(ngcore::T_Range<unsigned long>,ngla::BaseVector::Set(double,ngla::BaseVector const&)::{lambda(unsigned long)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 20, size: 0.7059, value: 0.7059, min: 0.004382, max: 0.1306, avg: 0.03529}]} , { name: "S_BaseVector::SetScalar", calls: 4, size: 0.002099, value: 0.05977, min: 0.003948, max: 0.03838, avg: 0.01494, children: [{ name: "ngcore::ParallelForRange<unsigned long,ngla::S_BaseVector<double>::SetScalar(double)::{lambda(ngcore::T_Range<unsigned long>)#1}>(ngcore::T_Range<unsigned long>,ngla::S_BaseVector<double>::SetScalar(double)::{lambda(ngcore::T_Range<unsigned long>)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 4, size: 0.05767, value: 0.05767, min: 0.003675, max: 0.03754, avg: 0.01442}]}]} , { name: "BaseVector::Set", calls: 1, size: 0.001404, value: 0.02286, min: 0.02286, max: 0.02286, avg: 0.02286, children: [{ name: "ngcore::ParallelFor<unsigned long,ngla::BaseVector::Set(double,ngla::BaseVector const&)::{lambda(unsigned long)#1}>(ngcore::T_Range<unsigned long>,ngla::BaseVector::Set(double,ngla::BaseVector const&)::{lambda(unsigned long)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.02146, value: 0.02146, min: 0.02146, max: 0.02146, avg: 0.02146}]} , { name: "NewtonSolver.Solve", calls: 1, size: 4274, value: 6602, min: 6602, max: 6602, avg: 6602, children: [{ name: "BaseVector::Add", calls: 1, size: 0.0007924, value: 0.01419, min: 0.01419, max: 0.01419, avg: 0.01419, children: [{ name: "ngcore::ParallelFor<unsigned long,ngla::BaseVector::Add(double,ngla::BaseVector const&)::{lambda(unsigned long)#1}>(ngcore::T_Range<unsigned long>,ngla::BaseVector::Add(double,ngla::BaseVector const&)::{lambda(unsigned long)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.01339, value: 0.01339, min: 0.01339, max: 0.01339, avg: 0.01339}]} , { name: "BaseVector::InnerProduct (taskhandler)", calls: 1, size: 0.0005511, value: 0.01223, min: 0.01223, max: 0.01223, avg: 0.01223, children: [{ name: "ngla::S_BaseVector<double>::InnerProduct(ngla::BaseVector const&,bool)const::{lambda(ngcore::TaskInfo)#1}", calls: 1, size: 0.01168, value: 0.01168, min: 0.01168, max: 0.01168, avg: 0.01168}]} , { name: "SparseCholesky<d,d,d>::MultAdd", calls: 1, size: 0.009996, value: 19.76, min: 19.76, max: 19.76, avg: 19.76, children: [{ name: "ngcore::ParallelFor<int,ngla::SparseCholesky<double,double,double>::MultAdd(double,ngla::BaseVector const&,ngla::BaseVector&)const::{lambda(int)#1}>(ngcore::T_Range<int>,ngla::SparseCholesky<double,double,double>::MultAdd(double,ngla::BaseVector const&,ngla::BaseVector&)const::{lambda(int)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.03764, value: 0.03764, min: 0.03764, max: 0.03764, avg: 0.03764} , { name: "ngcore::ParallelFor<unsigned long,ngla::SparseCholesky<double,double,double>::SolveReordered(ngbla::FlatVector<double>)const::{lambda(int)#2}>(ngcore::T_Range<unsigned long>,ngla::SparseCholesky<double,double,double>::SolveReordered(ngbla::FlatVector<double>)const::{lambda(int)#2},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.01369, value: 0.01369, min: 0.01369, max: 0.01369, avg: 0.01369} , { name: "ngcore::ParallelFor<int,ngla::SparseCholesky<double,double,double>::MultAdd(double,ngla::BaseVector const&,ngla::BaseVector&)const::{lambda(int)#2}>(ngcore::T_Range<int>,ngla::SparseCholesky<double,double,double>::MultAdd(double,ngla::BaseVector const&,ngla::BaseVector&)const::{lambda(int)#2},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.02942, value: 0.02942, min: 0.02942, max: 0.02942, avg: 0.02942} , { name: "SparseCholesky<d,d,d>::MultAdd fac2", calls: 1, size: 0.0147, value: 12.78, min: 12.78, max: 12.78, avg: 12.78, children: [{ name: "ngla::RunParallelDependency<ngla::SparseCholesky<double,double,double>::SolveReordered(ngbla::FlatVector<double>)const::{lambda(int)#3}>(ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const,ngla::SparseCholesky<double,double,double>::SolveReordered(ngbla::FlatVector<double>)const::{lambda(int)#3})::{lambda(ngla::SparseCholesky<double,double,double>::SolveReordered(ngbla::FlatVector<double>)const::{lambda(int)#3}::TaskInfo const&)#1}", calls: 1, size: 12.76, value: 12.76, min: 12.76, max: 12.76, avg: 12.76}]} , { name: "SparseCholesky<d,d,d>::MultAdd fac1", calls: 1, size: 0.01638, value: 6.893, min: 6.893, max: 6.893, avg: 6.893, children: [{ name: "ngla::RunParallelDependency<ngla::SparseCholesky<double,double,double>::SolveReordered(ngbla::FlatVector<double>)const::{lambda(int)#1}>(ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const,ngla::SparseCholesky<double,double,double>::SolveReordered(ngbla::FlatVector<double>)const::{lambda(int)#1})::{lambda(ngla::SparseCholesky<double,double,double>::SolveReordered(ngbla::FlatVector<double>)const::{lambda(int)#1}::TaskInfo const&)#1}", calls: 1, size: 6.876, value: 6.876, min: 6.876, max: 6.876, avg: 6.876}]}]} , { name: "BaseVector::Set", calls: 1, size: 0.0001693, value: 0.0001693, min: 0.0001693, max: 0.0001693, avg: 0.0001693} , { name: "SparseCholesky - total", calls: 1, size: 161.9, value: 1867, min: 1867, max: 1867, avg: 1867, children: [{ name: "ngcore::ParallelFor<unsigned long,ngla::MDOPriorityQueue::MDOPriorityQueue(int,int)::{lambda(unsigned long)#1}>(ngcore::T_Range<unsigned long>,ngla::MDOPriorityQueue::MDOPriorityQueue(int,int)::{lambda(unsigned long)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.0179, value: 0.0179, min: 0.0179, max: 0.0179, avg: 0.0179} , { name: "ngcore::ParallelFor<unsigned long,ngla::MDOPriorityQueue::MDOPriorityQueue(int,int)::{lambda(unsigned long)#2}>(ngcore::T_Range<unsigned long>,ngla::MDOPriorityQueue::MDOPriorityQueue(int,int)::{lambda(unsigned long)#2},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.003169, value: 0.003169, min: 0.003169, max: 0.003169, avg: 0.003169} , { name: "ngcore::ParallelFor<unsigned long,ngla::SparseCholeskyTM<double>::SparseCholeskyTM(std::shared_ptr<ngla::SparseMatrixTM<double>const>,std::shared_ptr<ngcore::BitArray>,std::shared_ptr<ngcore::Array<int,unsigned long>const>,bool)::{lambda(unsigned long)#1}>(ngcore::T_Range<unsigned long>,ngla::SparseCholeskyTM<double>::SparseCholeskyTM(std::shared_ptr<ngla::SparseMatrixTM<double>const>,std::shared_ptr<ngcore::BitArray>,std::shared_ptr<ngcore::Array<int,unsigned long>const>,bool)::{lambda(unsigned long)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.006466, value: 0.006466, min: 0.006466, max: 0.006466, avg: 0.006466} , { name: "ngcore::ParallelForRange<unsigned long,ngla::SparseCholeskyTM<double>::SparseCholeskyTM(std::shared_ptr<ngla::SparseMatrixTM<double>const>,std::shared_ptr<ngcore::BitArray>,std::shared_ptr<ngcore::Array<int,unsigned long>const>,bool)::{lambda(ngcore::T_Range<unsigned long>)#2}>(ngcore::T_Range<unsigned long>,ngla::SparseCholeskyTM<double>::SparseCholeskyTM(std::shared_ptr<ngla::SparseMatrixTM<double>const>,std::shared_ptr<ngcore::BitArray>,std::shared_ptr<ngcore::Array<int,unsigned long>const>,bool)::{lambda(ngcore::T_Range<unsigned long>)#2},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 7.728, value: 7.728, min: 7.728, max: 7.728, avg: 7.728} , { name: "SparseCholesky::Factor SPD", calls: 1, size: 0.04596, value: 547.6, min: 547.6, max: 547.6, avg: 547.6, children: [{ name: "ngcore::TablePrefixSum2<unsigned int>(ngcore::FlatArray<unsigned int,unsigned long>)::{lambda(ngcore::TaskInfo)#1}", calls: 1, size: 0.001563, value: 0.001563, min: 0.001563, max: 0.001563, avg: 0.001563} , { name: "ngcore::TablePrefixSum2<unsigned int>(ngcore::FlatArray<unsigned int,unsigned long>)::{lambda(ngcore::TaskInfo)#2}", calls: 1, size: 0.001419, value: 0.001419, min: 0.001419, max: 0.001419, avg: 0.001419} , { name: "ngcore::ParallelFor<unsigned long,ngla::SparseCholeskyTM<double>::FactorSPD1<double>(double)::{lambda(int)#2}>(ngcore::T_Range<unsigned long>,ngla::SparseCholeskyTM<double>::FactorSPD1<double>(double)::{lambda(int)#2},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 2, size: 0.1144, value: 0.1144, min: 0.05427, max: 0.06012, avg: 0.05719} , { name: "ngla::RunParallelDependency<ngla::SparseCholeskyTM<double>::FactorSPD1<double>(double)::{lambda(int)#3}>(ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const,ngla::SparseCholeskyTM<double>::FactorSPD1<double>(double)::{lambda(int)#3})::{lambda(ngla::SparseCholeskyTM<double>::FactorSPD1<double>(auto:1)::{lambda(int)#3}::TaskInfo const&)#1}", calls: 1, size: 536.4, value: 536.4, min: 536.4, max: 536.4, avg: 536.4} , { name: "ngcore::ParallelFor<unsigned long,ngla::SparseCholeskyTM<double>::FactorSPD1<double>(double)::{lambda(unsigned long)#4}>(ngcore::T_Range<unsigned long>,ngla::SparseCholeskyTM<double>::FactorSPD1<double>(double)::{lambda(unsigned long)#4},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 11.03, value: 11.03, min: 11.03, max: 11.03, avg: 11.03}]} , { name: "SparseCholesky - fill factor", calls: 1, size: 10.73, value: 46.57, min: 46.57, max: 46.57, avg: 46.57, children: [{ name: "ngcore::ParallelFor<int,ngla::SparseCholeskyTM<double>::FactorNew(ngla::SparseMatrix<double,double,double>const&)::{lambda(auto:1)#2}>(ngcore::T_Range<int>,ngla::SparseCholeskyTM<double>::FactorNew(ngla::SparseMatrix<double,double,double>const&)::{lambda(auto:1)#2},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 35.83, value: 35.83, min: 35.83, max: 35.83, avg: 35.83}]} , { name: "BaseVector::Set", calls: 1, size: 0.006111, value: 11.2, min: 11.2, max: 11.2, avg: 11.2, children: [{ name: "ngcore::ParallelFor<unsigned long,ngla::BaseVector::Set(double,ngla::BaseVector const&)::{lambda(unsigned long)#1}>(ngcore::T_Range<unsigned long>,ngla::BaseVector::Set(double,ngla::BaseVector const&)::{lambda(unsigned long)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 11.19, value: 11.19, min: 11.19, max: 11.19, avg: 11.19}]} , { name: "MinimumDegreeOrdering::Order", calls: 1, size: 1079, value: 1079, min: 1079, max: 1079, avg: 1079} , { name: "MinimumDegreeOrdering::ctor", calls: 1, size: 0.001153, value: 0.03665, min: 0.03665, max: 0.03665, avg: 0.03665, children: [{ name: "ngcore::ParallelForRange<unsigned long,ngla::MinimumDegreeOrdering::MinimumDegreeOrdering(int)::{lambda(ngcore::T_Range<unsigned long>)#1}>(ngcore::T_Range<unsigned long>,ngla::MinimumDegreeOrdering::MinimumDegreeOrdering(int)::{lambda(ngcore::T_Range<unsigned long>)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.0355, value: 0.0355, min: 0.0355, max: 0.0355, avg: 0.0355}]} , { name: "SparseCholesky - allocate", calls: 1, size: 13.26, value: 13.29, min: 13.29, max: 13.29, avg: 13.29, children: [{ name: "ngcore::TablePrefixSum2<unsigned int>(ngcore::FlatArray<unsigned int,unsigned long>)::{lambda(ngcore::TaskInfo)#1}", calls: 3, size: 0.004963, value: 0.004963, min: 0.00136, max: 0.002031, avg: 0.001654} , { name: "ngcore::TablePrefixSum2<unsigned int>(ngcore::FlatArray<unsigned int,unsigned long>)::{lambda(ngcore::TaskInfo)#2}", calls: 3, size: 0.01639, value: 0.01639, min: 0.001691, max: 0.008078, avg: 0.005463} , { name: "ngcore::ParallelForRange<unsigned long,ngla::SparseCholeskyTM<double>::Allocate(ngcore::Array<int,unsigned long>const&,ngcore::Array<ngla::MDOVertex,unsigned long>const&,int const*)::{lambda(ngcore::T_Range<unsigned long>)#1}>(ngcore::T_Range<unsigned long>,ngla::SparseCholeskyTM<double>::Allocate(ngcore::Array<int,unsigned long>const&,ngcore::Array<ngla::MDOVertex,unsigned long>const&,int const*)::{lambda(ngcore::T_Range<unsigned long>)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 1, size: 0.003176, value: 0.003176, min: 0.003176, max: 0.003176, avg: 0.003176}]} , { name: "MatrixGraph - CalcBalancing", calls: 1, size: 0.008507, value: 0.03369, min: 0.03369, max: 0.03369, avg: 0.03369, children: [{ name: "ngcore::Partitioning::Calc<ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1}>(unsigned long,ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1},int)::{lambda(ngcore::TaskInfo)#1}", calls: 1, size: 0.02162, value: 0.02162, min: 0.02162, max: 0.02162, avg: 0.02162} , { name: "ngcore::Partitioning::Calc<ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1}>(unsigned long,ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1},int)::{lambda(ngcore::TaskInfo)#2}", calls: 1, size: 0.003562, value: 0.003562, min: 0.003562, max: 0.003562, avg: 0.003562}]}]} , { name: "Assemble Linearization", calls: 2, size: 0.1267, value: 401.9, min: 141.1, max: 260.8, avg: 200.9, children: [{ name: "MatrixGraph - CalcBalancing", calls: 2, size: 0.008071, value: 0.0275, min: 0.01331, max: 0.01418, avg: 0.01375, children: [{ name: "ngcore::Partitioning::Calc<ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1}>(unsigned long,ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1},int)::{lambda(ngcore::TaskInfo)#1}", calls: 2, size: 0.01048, value: 0.01048, min: 0.00522, max: 0.005262, avg: 0.005241} , { name: "ngcore::Partitioning::Calc<ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1}>(unsigned long,ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1},int)::{lambda(ngcore::TaskInfo)#2}", calls: 2, size: 0.008946, value: 0.008946, min: 0.00399, max: 0.004955, avg: 0.004473}]} , { name: "BilinearForm::GetGraph", calls: 2, size: 0.02841, value: 66.57, min: 31.56, max: 35.01, avg: 33.29, children: [{ name: "ngcore::ParallelForRange<unsigned long,ngcomp::BilinearForm::GetGraph(int,bool)::{lambda(ngcore::T_Range<unsigned long>)#1}>(ngcore::T_Range<unsigned long>,ngcomp::BilinearForm::GetGraph(int,bool)::{lambda(ngcore::T_Range<unsigned long>)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 12, size: 0.5643, value: 0.5643, min: 0.008211, max: 0.1109, avg: 0.04703} , { name: "ngcore::TablePrefixSum2<unsigned int>(ngcore::FlatArray<unsigned int,unsigned long>)::{lambda(ngcore::TaskInfo)#1}", calls: 2, size: 0.003016, value: 0.003016, min: 0.001378, max: 0.001638, avg: 0.001508} , { name: "ngcore::TablePrefixSum2<unsigned int>(ngcore::FlatArray<unsigned int,unsigned long>)::{lambda(ngcore::TaskInfo)#2}", calls: 2, size: 0.00333, value: 0.00333, min: 0.001538, max: 0.001791, avg: 0.001665} , { name: "MatrixGraph - CalcBalancing", calls: 2, size: 0.01114, value: 0.05883, min: 0.02917, max: 0.02966, avg: 0.02942, children: [{ name: "ngcore::Partitioning::Calc<ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1}>(unsigned long,ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1},int)::{lambda(ngcore::TaskInfo)#1}", calls: 2, size: 0.03894, value: 0.03894, min: 0.01931, max: 0.01964, avg: 0.01947} , { name: "ngcore::Partitioning::Calc<ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1}>(unsigned long,ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1},int)::{lambda(ngcore::TaskInfo)#2}", calls: 2, size: 0.008745, value: 0.008745, min: 0.003697, max: 0.005047, avg: 0.004372}]} , { name: "MatrixGraph", calls: 2, size: 0.08362, value: 65.92, min: 31.24, max: 34.68, avg: 32.96, children: [{ name: "ngcore::ParallelFor<unsigned long,ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(int)#1}>(ngcore::T_Range<unsigned long>,ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(int)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 2, size: 0.5389, value: 0.5389, min: 0.2217, max: 0.3172, avg: 0.2695} , { name: "ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(ngcore::TaskInfo)#3}", calls: 2, size: 0.009406, value: 0.009406, min: 0.004557, max: 0.004848, avg: 0.004703} , { name: "ngcore::ParallelForRange<int,ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(ngcore::T_Range<unsigned long>)#4}>(ngcore::T_Range<int>,ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(ngcore::T_Range<unsigned long>)#4},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 4, size: 49.9, value: 49.9, min: 11.42, max: 13.63, avg: 12.47} , { name: "ngcore::ParallelFor<ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(int)#8}>(ngcore::Partitioning const&,ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(int)#8},int)::{lambda(ngcore::TaskInfo&)#1}", calls: 2, size: 14.2, value: 14.2, min: 4.041, max: 10.16, avg: 7.099} , { name: "MatrixGraph - CalcBalancing", calls: 2, size: 0.01051, value: 0.03609, min: 0.01727, max: 0.01883, avg: 0.01805, children: [{ name: "ngcore::Partitioning::Calc<ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1}>(unsigned long,ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1},int)::{lambda(ngcore::TaskInfo)#1}", calls: 2, size: 0.01689, value: 0.01689, min: 0.007883, max: 0.009003, avg: 0.008443} , { name: "ngcore::Partitioning::Calc<ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1}>(unsigned long,ngla::MatrixGraph::CalcBalancing()::{lambda(int)#1},int)::{lambda(ngcore::TaskInfo)#2}", calls: 2, size: 0.008698, value: 0.008698, min: 0.003853, max: 0.004846, avg: 0.004349}]} , { name: "MatrixGraph - prefix", calls: 2, size: 0.003014, value: 0.02946, min: 0.01457, max: 0.0149, avg: 0.01473, children: [{ name: "ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(ngcore::TaskInfo)#6}", calls: 2, size: 0.009647, value: 0.009647, min: 0.00476, max: 0.004888, avg: 0.004824} , { name: "ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(ngcore::TaskInfo)#7}", calls: 2, size: 0.0168, value: 0.0168, min: 0.008144, max: 0.008657, avg: 0.008401}]} , { name: "MatrixGraph - build dof2el table", calls: 2, size: 0.06205, value: 1.123, min: 0.5608, max: 0.5624, avg: 0.5616, children: [{ name: "ngcore::TablePrefixSum2<unsigned int>(ngcore::FlatArray<unsigned int,unsigned long>)::{lambda(ngcore::TaskInfo)#1}", calls: 2, size: 0.004313, value: 0.004313, min: 0.00194, max: 0.002373, avg: 0.002156} , { name: "ngcore::TablePrefixSum2<unsigned int>(ngcore::FlatArray<unsigned int,unsigned long>)::{lambda(ngcore::TaskInfo)#2}", calls: 2, size: 0.01943, value: 0.01943, min: 0.008577, max: 0.01086, avg: 0.009716} , { name: "ngcore::ParallelFor<unsigned long,ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(int)#2}>(ngcore::T_Range<unsigned long>,ngla::MatrixGraph::MatrixGraph(int,int,ngcore::Table<int,unsigned long>const&,ngcore::Table<int,unsigned long>const&,bool)::{lambda(int)#2},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 4, size: 1.037, value: 1.037, min: 0.2159, max: 0.3013, avg: 0.2593}]}]}]} , { name: "Assemble Linearization - SpecialElements", calls: 2, size: 0.0007058, value: 0.003753, min: 0.001803, max: 0.00195, avg: 0.001877, children: [{ name: "ngcore::ParallelForRange<unsigned long,ngcomp::S_BilinearForm<double>::AssembleLinearization(ngla::BaseVector const&,ngcore::LocalHeap&,bool)::{lambda(ngcore::T_Range<unsigned long>)#3}>(ngcore::T_Range<unsigned long>,ngcomp::S_BilinearForm<double>::AssembleLinearization(ngla::BaseVector const&,ngcore::LocalHeap&,bool)::{lambda(ngcore::T_Range<unsigned long>)#3},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 2, size: 0.003047, value: 0.003047, min: 0.001504, max: 0.001543, avg: 0.001524}]} , { name: "Assemble Linearization - volume", calls: 3, size: 0.7514, value: 317.3, min: 0.3476, max: 218.5, avg: 105.8, children: [{ name: "ngcomp::IterateElements(ngcomp::FESpace const&,ngfem::VorB,ngcore::LocalHeap&,std::function<void(ngcomp::FESpace::Element,ngcore::LocalHeap&)>const&)::{lambda(ngcore::TaskInfo const&)#1}", calls: 111, size: 316.6, value: 316.6, min: 0.001722, max: 21.85, avg: 2.852}]} , { name: "S_BaseVector::SetScalar", calls: 2, size: 2.224, value: 17.8, min: 6.795, max: 11.01, avg: 8.901, children: [{ name: "ngcore::ParallelForRange<unsigned long,ngla::S_BaseVector<double>::SetScalar(double)::{lambda(ngcore::T_Range<unsigned long>)#1}>(ngcore::T_Range<unsigned long>,ngla::S_BaseVector<double>::SetScalar(double)::{lambda(ngcore::T_Range<unsigned long>)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 2, size: 15.58, value: 15.58, min: 6.79, max: 8.789, avg: 7.789}]}]} , { name: "Apply Matrix", calls: 2, size: 0.004547, value: 39.26, min: 6.142, max: 33.12, avg: 19.63, children: [{ name: "Apply Matrix - DG", calls: 2, size: 0.0003532, value: 0.0003532, min: 0.000119, max: 0.0002342, avg: 0.0001766} , { name: "Apply Matrix - boundary", calls: 1, size: 0.007613, value: 0.09198, min: 0.09198, max: 0.09198, avg: 0.09198, children: [{ name: "ngcomp::IterateElements(ngcomp::FESpace const&,ngfem::VorB,ngcore::LocalHeap&,std::function<void(ngcomp::FESpace::Element,ngcore::LocalHeap&)>const&)::{lambda(ngcore::TaskInfo const&)#1}", calls: 11, size: 0.08437, value: 0.08437, min: 0.001892, max: 0.01958, avg: 0.00767}]} , { name: "Apply Matrix - volume", calls: 2, size: 0.2003, value: 39.16, min: 6.14, max: 33.02, avg: 19.58, children: [{ name: "ngcomp::IterateElements(ngcomp::FESpace const&,ngfem::VorB,ngcore::LocalHeap&,std::function<void(ngcomp::FESpace::Element,ngcore::LocalHeap&)>const&)::{lambda(ngcore::TaskInfo const&)#1}", calls: 100, size: 38.96, value: 38.96, min: 0.03669, max: 3.881, avg: 0.3896}]}]} , { name: "S_BaseVector::SetScalar", calls: 3, size: 0.004425, value: 0.03714, min: 0.01047, max: 0.01465, avg: 0.01238, children: [{ name: "ngcore::ParallelForRange<unsigned long,ngla::S_BaseVector<double>::SetScalar(double)::{lambda(ngcore::T_Range<unsigned long>)#1}>(ngcore::T_Range<unsigned long>,ngla::S_BaseVector<double>::SetScalar(double)::{lambda(ngcore::T_Range<unsigned long>)#1},int,ngcore::TotalCosts)::{lambda(ngcore::TaskInfo&)#1}", calls: 3, size: 0.03271, value: 0.03271, min: 0.008843, max: 0.01372, avg: 0.0109}]}]}]};

const chart_type = 'time';

    const color = d3.scaleOrdinal(d3.schemePaired);

    let getTime = (t) =>
    {
       if(t>=1000)  return (t/1000).toPrecision(4) + '  s';
       if(t>=0.1)   return t.toPrecision(4) + ' ms';
       if(t>=1e-4)  return (t*1e3).toPrecision(4) + ' us';

       return (t/1e6).toPrecision(4) + ' ns';
    };

    const KB_ = 1024;
    const MB_ = KB_*1024;
    const GB_ = MB_*1024;
    let getMemory = (m) =>
    {
       if(m>=GB_)  return (m/GB_).toPrecision(4) + ' GB';
       if(m>=MB_)  return (m/MB_).toPrecision(4) + ' MB';
       if(m>=KB_)  return (m/KB_).toPrecision(4) + ' KB';
       return m.toPrecision(4) + ' B';
    };

    Sunburst()
      .data(data)
      .size('size')
      .color(d => color(d.name))
      .tooltipTitle((d, node) => { return node.parent ? node.parent.data.name + " &rarr; " + d.name : d.name; })
      .tooltipContent((d, node) => {
        if(chart_type=="memory")
        {
          return `Total Memory: <i>${getMemory(d.value)}</i> <br>`
               + `Memory: <i>${getMemory(d.size)}</i>`
        }
        else
        {
          return `Time: <i>${getTime(d.value)}</i> <br>`
               + `calls: <i>${d.calls}</i> <br>`
               + `min: <i>${getTime(d.min)}</i> <br>`
               + `max: <i>${getTime(d.max)}</i> <br>`
               + `avg: <i>${getTime(d.avg)}</i>`
        }
      })
      (document.getElementById('chart'));

      // Line breaks in tooltip
      var all = document.getElementsByClassName('sunbirst-tooltip');
      for (var i = 0; i < all.length; i++) {
          all[i].white_space = "";
      }
  </script>
</body>

